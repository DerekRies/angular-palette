<div class="palette-body" ng-class="{palettevisible: visible}">
    <div class="palette-inner">
        <input type="text" class="palette-input" ng-model="query.name"
            dr-blur="close()" dr-focus-on="{{visible}}" ng-keydown="paletteInputKeyHandler($event)">
        <div class="palette-results" ng-show="filteredCommands.length">
            <div class="palette-item"
                ng-repeat="command in (filteredCommands = (commands | orderBy: 'name'| filter:query ))"
                ng-class="{selected: $index == activeCmd}"
                ng-bind-html-unsafe="command.name | drHighlight:query.name"
                dr-scroll-to-contain="{{$index == activeCmd}}"
                ng-click="useSelection(command)">
            </div>
        </div>
    </div>
</div>
